# Mosquitto Authentication Configuration
# 基本设置
persistence true
persistence_location /tmp/mosquitto/
log_dest file /tmp/mosquitto.log
log_type all

# 全局认证设置
allow_anonymous false
password_file /Users/ohyusheng/projects/personal/play-riz/device-monitor/mosquitto_passwd

# ACL访问控制列表
acl_file /Users/ohyusheng/projects/personal/play-riz/device-monitor/mosquitto_acl

# 非SSL监听器（用于认证测试）
listener 1883 127.0.0.1

# SSL/TLS监听器（支持认证）
listener 8883 0.0.0.0
protocol mqtt

# SSL证书配置
cafile certs/ca.crt
certfile certs/server.crt
keyfile certs/server.key

# SSL设置
require_certificate false
use_identity_as_username false
tls_version tlsv1.2

# 可选：启用WebSocket over SSL
# listener 9001
# protocol websockets
# cafile certs/ca.crt
# certfile certs/server.crt
# keyfile certs/server.key